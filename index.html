<!DOCTYPE html>
  <html>
    <head>
      <style>
		input, select {
			-ms-box-sizing:border-box;
			-moz-box-sizing:border-box;
			-webkit-box-sizing:border-box; 
			box-sizing:border-box;
			}
      </style>
    </head>
    <body style="display: table;
  position: absolute;
  top: 0;
  left: 0;
  height: 96%;
  width: 99%;">
		<div id="content" style="margin: 0 auto; width: 80%; margin-top: 80px;
  display: table-cell;
  vertical-align: middle;">
		<input style="margin: 0 auto; position: center; display: block; width: 35%; height: 40px; font-size: 1em;color: gray;" id="inputPlayerPercent" value="Spillerens BH-prosent"></input><br>
		<select id="inputPlayerRank" value="Spillerens rank" style="margin: 0 auto; position: center; display: block; width: 35%; height: 40px; font-size: 1em;color: gray;">
			<option value="0" selected>Spillerens rank</option>
			<option value=0>Nybegynner</option>
			<option value=20>Bråkmaker</option>
			<option value=150>Løpegutt</option>
			<option value=370>Langer</option>
			<option value=1300>Gangster</option>
			<option value=3000>Hitman</option>
			<option value=8000>Juniorsjef</option>
			<option value=15000>Sjef</option>
			<option value=40000>Kaptein</option>
			<option value=70000>Gudfar</option>
			<option value=150000>Leg. gudfar</option>
			<option value=300000>Don</option>
			<option value=800000>Leg. don</option>
			<option value=1500000>Crime King</option>
			<option value=2500000>Legende</option>
			<option value=5000000>Legende x2</option>
			<option value=7500000>Legende x3</option>
		</select></br>
		<input type="button" id="calculateButton" value="Regn ut spillerens xp" onclick="calculateExperience()"style="margin: 0 auto; position: center; display: block; width: 35%; height: 40px; font-size: 1em;">
		<div style="margin: 0 auto; position: center; display: block; width: 35%; height: 40px; font-size: 1em;"><h4 id="totalExperience">Spillerens totale xp</h4>
		<h4 id="currentRankExperience">Xp inn i neste rank</h4>
			</div>
		<script>
			var input = document.getElementById("inputPlayerPercent");

			// Execute a function when the user releases a key on the keyboard
			input.addEventListener("keyup", function(event) {
			  // Number 13 is the "Enter" key on the keyboard
				if (event.keyCode === 13) {
					// Cancel the default action, if needed
					event.preventDefault();
					// Trigger the button element with a click
					document.getElementById("calculateButton").click();
				}
			});
			
			function calculateExperience() {
				let playerPercent = document.getElementById("inputPlayerPercent").value;
				var resultField = document.getElementById("totalExperience");	
				var currentExperienceField = document.getElementById("currentRankExperience");
							
				var playerExperience = (416830.34 * playerPercent) - 542682.58;

				var splitNumber = playerExperience.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
				
				var playerRank = document.getElementById("inputPlayerRank").value;
				
				var currentRankExperience = playerExperience.toFixed(2) - playerRank;
				
				resultField.innerHTML = "Spillerens totale xp: " + splitNumber;
				currentExperienceField.innerHTML = "Xp inn i neste rank: " + currentRankExperience.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
			}
		</script>
    </body>
  </html>